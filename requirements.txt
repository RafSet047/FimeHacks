# Unified Requirements - Combines all dependencies with resolved conflicts
# Replaces: requirements.txt, requirements_milvus.txt, and requirements_test.txt

# Core FastAPI and web framework
fastapi==0.104.1
uvicorn==0.24.0

# Database and ORM
sqlalchemy==2.0.23
alembic==1.12.1
psycopg2-binary==2.9.9  # PostgreSQL adapter

# Pydantic and settings (fixed version conflicts)
pydantic
pydantic-settings # Updated to satisfy langchain-community requirements

# Environment and configuration (fixed version conflicts)
python-dotenv==1.0.1  # Updated to satisfy pymilvus and llama-cloud-services
python-dateutil==2.8.2

# File handling
aiofiles==23.2.1
python-multipart==0.0.6
python-magic==0.4.27

# Milvus vector database
pymilvus>=2.3.0
protobuf>=3.20.0
grpcio>=1.49.0
grpcio-tools>=1.49.0
ujson>=5.4.0

# Numpy (fixed version conflicts)
numpy>=1.21.0,<2.0.0  # Fixed to be compatible with matplotlib, numba, etc.

# Pandas (updated version)
pandas==2.1.4  # Fixed version for consistency

# Machine Learning and AI libraries
torch>=1.12.0,<4.0  # Added to satisfy lightning, pytorch-lightning, sentence-transformers, torchmetrics
torchvision>=0.13.0  # Compatible with torch version
sentence-transformers>=2.0.0

# File system spec (fixed version conflicts)
fsspec>=2021.06.0,<2025.0  # Fixed to satisfy lightning requirements

# Testing dependencies
pytest==7.4.3  # Fixed version for consistency
pytest-asyncio>=0.21.0
pytest-mock>=3.10.0
coverage>=7.0.0
pytest-cov==4.1.0  # Fixed version for consistency

# Document processing libraries
PyPDF2>=3.0.0
python-docx>=0.8.11
langchain>=0.1.0
langchain-community>=0.0.10  # Added explicitly with compatible versions
unstructured>=0.10.0

# Google API libraries
google-generativeai>=0.3.0
google-cloud-speech>=2.21.0

# Audio processing
pydub>=0.25.1

# Additional utilities
requests>=2.28.0
httpx>=0.24.0
typing-extensions==4.12.0  # Fixed version to resolve conflicts
pyyaml==6.0.1  # Configuration and logging support
